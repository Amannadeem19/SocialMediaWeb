{"ast":null,"code":"var _jsxFileName = \"C:\\\\Users\\\\Toshiba\\\\OneDrive\\\\Documents\\\\WEB DEVELOPMENT\\\\Socialmedia\\\\client\\\\src\\\\components\\\\Home\\\\Home.js\",\n  _s = $RefreshSig$(),\n  _s2 = $RefreshSig$();\nimport React, { useState, useEffect } from 'react';\nimport { Container, Grid, Grow, Paper, AppBar, TextField, Button } from '@mui/material';\nimport Posts from '../Posts/Posts';\nimport Form from '../Form/Form';\nimport { MuiChipsInput } from 'mui-chips-input';\nimport { useNavigate, useLocation } from 'react-router-dom';\nimport { useDispatch } from 'react-redux';\nimport { getPosts } from '../../actions/posts';\nimport Pagination from '../Pagination.jsx';\nimport useStyles from './styles';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nfunction getWindowDimensions() {\n  const {\n    innerWidth: width,\n    innerHeight: height\n  } = window;\n  return {\n    width,\n    height\n  };\n}\nfunction useQuery() {\n  _s();\n  return new URLSearchParams(useLocation().search);\n}\n_s(useQuery, \"EuD9q2dZ34PfN/QO2OBhBzeMxmY=\", false, function () {\n  return [useLocation];\n});\nconst Home = () => {\n  _s2();\n  const classes = useStyles();\n  const [currentId, setCurrentId] = useState(null);\n  // define the hooks\n  // [dispatch] means effect only re-run when the dispatch value changes \n  const dispatch = useDispatch();\n  const query = useQuery();\n  const history = useNavigate();\n  const page = query.get('page') || 1;\n  const searchQuery = query.get('searchQuery');\n  const [search, setSearch] = useState('');\n  const [tags, setTags] = useState([]);\n  const navigate = useNavigate();\n  useEffect(() => {\n    dispatch(getPosts());\n  }, [currentId, dispatch]);\n  const [windowDimensions, setWindowDimensions] = useState(getWindowDimensions());\n  useEffect(() => {\n    function handleResize() {\n      setWindowDimensions(getWindowDimensions());\n      console.log(windowDimensions.width);\n    }\n    window.addEventListener(\"resize\", handleResize);\n    return () => window.removeEventListener(\"resize\", handleResize);\n  }, []);\n  const handlePress = e => {\n    //press enter\n    if (e.keyCode === 13) {\n      // search the post\n    }\n  };\n  const handleAdd = tag => setTags([...tags, tag]);\n  const handleDelete = tagToBeDelete => setTags(tags.filter(tag => tag !== tagToBeDelete));\n  const searchPost = () => {\n    if (searchPost.trim()) {\n      // dispatch -> fetch search post \n    } else {\n      navigate(\"/\");\n    }\n  };\n  return /*#__PURE__*/_jsxDEV(Grow, {\n    in: true,\n    children: /*#__PURE__*/_jsxDEV(Container, {\n      maxWidth: \"xl\",\n      children: /*#__PURE__*/_jsxDEV(Grid, {\n        container: true,\n        direction: windowDimensions.width <= 600 ? 'column-reverse' : 'row',\n        className: classes.gridContainer,\n        justifyContent: \"space-between\",\n        alignItems: \"stretch\",\n        spacing: 3,\n        children: [/*#__PURE__*/_jsxDEV(Grid, {\n          item: true,\n          xs: 12,\n          sm: 6,\n          md: 9,\n          children: /*#__PURE__*/_jsxDEV(Posts, {\n            setCurrentId: setCurrentId\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 72,\n            columnNumber: 25\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 71,\n          columnNumber: 21\n        }, this), /*#__PURE__*/_jsxDEV(Grid, {\n          item: true,\n          xs: 12,\n          sm: 6,\n          md: 3,\n          children: [/*#__PURE__*/_jsxDEV(AppBar, {\n            className: classes.appBarSearch,\n            position: \"static\",\n            color: \"inherit\",\n            children: [/*#__PURE__*/_jsxDEV(TextField, {\n              name: \"search\",\n              label: \"Search Memories\",\n              variant: \"outlined\",\n              fullWidth: true,\n              onKeyPress: handlePress,\n              value: search,\n              onChange: e => setSearch(e.target.value)\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 77,\n              columnNumber: 25\n            }, this), /*#__PURE__*/_jsxDEV(MuiChipsInput, {\n              label: \"Search Tags\",\n              value: tags,\n              style: {\n                margin: '10px 0'\n              },\n              variant: \"outlined\",\n              onAddChip: handleAdd,\n              onDeleteChip: handleDelete\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 87,\n              columnNumber: 25\n            }, this), /*#__PURE__*/_jsxDEV(Button, {\n              className: classes.searchButton,\n              color: \"primary\",\n              onClick: searchPost,\n              children: \"Search\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 95,\n              columnNumber: 25\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 76,\n            columnNumber: 24\n          }, this), /*#__PURE__*/_jsxDEV(Form, {\n            currentId: currentId,\n            setCurrentId: setCurrentId\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 98,\n            columnNumber: 25\n          }, this), /*#__PURE__*/_jsxDEV(Paper, {\n            elevation: 6,\n            children: /*#__PURE__*/_jsxDEV(Pagination, {}, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 102,\n              columnNumber: 29\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 100,\n            columnNumber: 25\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 75,\n          columnNumber: 21\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 69,\n        columnNumber: 17\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 68,\n      columnNumber: 13\n    }, this)\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 67,\n    columnNumber: 9\n  }, this);\n};\n_s2(Home, \"LcWbi+Z/MGO3Ydx4HHnRr1JK7Kc=\", false, function () {\n  return [useStyles, useDispatch, useQuery, useNavigate, useNavigate];\n});\n_c = Home;\nexport default Home;\nvar _c;\n$RefreshReg$(_c, \"Home\");","map":{"version":3,"names":["React","useState","useEffect","Container","Grid","Grow","Paper","AppBar","TextField","Button","Posts","Form","MuiChipsInput","useNavigate","useLocation","useDispatch","getPosts","Pagination","useStyles","jsxDEV","_jsxDEV","getWindowDimensions","innerWidth","width","innerHeight","height","window","useQuery","_s","URLSearchParams","search","Home","_s2","classes","currentId","setCurrentId","dispatch","query","history","page","get","searchQuery","setSearch","tags","setTags","navigate","windowDimensions","setWindowDimensions","handleResize","console","log","addEventListener","removeEventListener","handlePress","e","keyCode","handleAdd","tag","handleDelete","tagToBeDelete","filter","searchPost","trim","in","children","maxWidth","container","direction","className","gridContainer","justifyContent","alignItems","spacing","item","xs","sm","md","fileName","_jsxFileName","lineNumber","columnNumber","appBarSearch","position","color","name","label","variant","fullWidth","onKeyPress","value","onChange","target","style","margin","onAddChip","onDeleteChip","searchButton","onClick","elevation","_c","$RefreshReg$"],"sources":["C:/Users/Toshiba/OneDrive/Documents/WEB DEVELOPMENT/Socialmedia/client/src/components/Home/Home.js"],"sourcesContent":["import React, {useState, useEffect} from 'react'\r\nimport { Container, Grid, Grow, Paper, AppBar, TextField, Button } from '@mui/material';\r\nimport Posts from '../Posts/Posts'\r\nimport Form from '../Form/Form'\r\nimport {MuiChipsInput} from 'mui-chips-input';\r\nimport { useNavigate, useLocation } from 'react-router-dom';\r\nimport { useDispatch } from 'react-redux';\r\nimport { getPosts } from '../../actions/posts';\r\nimport Pagination from '../Pagination.jsx';\r\nimport useStyles from './styles';\r\nfunction getWindowDimensions() {\r\n    const { innerWidth: width, innerHeight: height } = window;\r\n    return {\r\n        width,\r\n        height,\r\n    };\r\n}\r\n\r\nfunction useQuery(){\r\n    return new URLSearchParams(useLocation().search);\r\n}\r\nconst Home = () => {\r\n    const classes = useStyles();\r\n    const [currentId, setCurrentId] = useState(null);\r\n    // define the hooks\r\n    // [dispatch] means effect only re-run when the dispatch value changes \r\n    const dispatch = useDispatch();\r\n    const query = useQuery();\r\n    const history = useNavigate();\r\n    const page = query.get('page') || 1;\r\n    const searchQuery = query.get('searchQuery');\r\n    const [search, setSearch] = useState('');\r\n    const [tags, setTags] = useState([]);\r\n    const navigate = useNavigate();\r\n    useEffect(()=>{\r\n        dispatch(getPosts())\r\n    }, [currentId,dispatch])\r\n    const [windowDimensions, setWindowDimensions] = useState(\r\n        getWindowDimensions()\r\n    );\r\n    useEffect(() => {\r\n        function handleResize() {\r\n            setWindowDimensions(getWindowDimensions());\r\n            console.log(windowDimensions.width);\r\n        }\r\n\r\n        window.addEventListener(\"resize\", handleResize);\r\n        return () => window.removeEventListener(\"resize\", handleResize);\r\n    }, []);\r\n    const handlePress = (e)=>{\r\n        //press enter\r\n            if(e.keyCode === 13){\r\n                // search the post\r\n            }\r\n    }   \r\n    const handleAdd= (tag)=> setTags([...tags, tag]);\r\n    const handleDelete = (tagToBeDelete) => setTags(tags.filter((tag) => tag !== tagToBeDelete))\r\n    const searchPost = ()=>{\r\n        if(searchPost.trim()){\r\n            // dispatch -> fetch search post \r\n        }else{\r\n            navigate(\"/\");\r\n        }\r\n\r\n    }\r\n    return (\r\n        <Grow in>\r\n            <Container maxWidth=\"xl\">\r\n                <Grid container direction={windowDimensions.width <= 600 ? 'column-reverse' : 'row'}\r\n                   className={ classes.gridContainer } justifyContent=\"space-between\" alignItems=\"stretch\" spacing={3}>\r\n                    <Grid item xs={12} sm={6} md={9}>\r\n                        <Posts setCurrentId={setCurrentId} />\r\n                    </Grid>\r\n\r\n                    <Grid item xs={12} sm={6} md={3} >\r\n                       <AppBar className={classes.appBarSearch} position=\"static\" color=\"inherit\">\r\n                        <TextField\r\n                            name='search'\r\n                            label='Search Memories'\r\n                            variant='outlined'\r\n                            fullWidth\r\n                            onKeyPress={handlePress}\r\n                            value={search}\r\n                            onChange={(e) => setSearch(e.target.value) }\r\n\r\n                        />\r\n                        <MuiChipsInput\r\n                        label='Search Tags'\r\n                        value={tags}\r\n                        style={{margin: '10px 0'}}\r\n                        variant='outlined'\r\n                        onAddChip={handleAdd}\r\n                        onDeleteChip={handleDelete}\r\n                        />\r\n                        <Button className={classes.searchButton} color='primary' onClick={searchPost}>Search</Button>\r\n                       </AppBar>\r\n                       \r\n                        <Form currentId={currentId} setCurrentId={setCurrentId} />\r\n                        \r\n                        <Paper elevation={6}>\r\n                           \r\n                            <Pagination/>\r\n                        \r\n                        </Paper>\r\n                    </Grid>\r\n\r\n                </Grid>\r\n            </Container>\r\n\r\n        </Grow>\r\n    )\r\n}\r\n\r\nexport default Home;"],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}